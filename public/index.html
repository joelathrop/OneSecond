<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OneSecond</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.3/css/bulma.min.css">
    <script src="https://js-cdn.music.apple.com/musickit/v3/musickit.js"></script>
    <style>
        .page { display: none; }
        .active { display: block; }
        .box-container { margin-bottom: 20px; }
        .dialogue {
            display: none;
            position: absolute;
            bottom: 300px;
            right: 10px;
            background-color: #fff;
            border: 1px solid #ccc;
            padding: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            z-index: 10;
            border-radius: 10px;
        }
        .button-container {
            position: relative;
            display: inline-block;
            margin: 10px;
        }
    </style>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header class="header">
        <h1 class="header-title title is-2">
            OneSecond <span class="version">v.Alpha</span>
        </h1>
    </header>
    <section class="section">
        <div class="container">
            <div id="page1" class="page active">
                <div class="box-container">
                    <div class="box large-box game-description">
                        <h2 class="title is-3 has-text-link">Welcome to OneSecond!</h2>
                        <p class="mb-4">Connect your Apple Music account and test your music knowledge.
                            We'll play a random 1-second snippet from your library or playlists, and your task is to guess the song!
                            Are you ready to challenge your music recognition skills?</p>
                        <div class="buttons-centered">
                            <button id="authorizeButton" class="button is-primary">Log In</button>
                            <button id="unauthorizeButton" class="button is-danger">Log Out</button>
                        </div>
                    </div>
                </div>
                <div class="box-container">
                    <div class="box large-box has-text-centered">
                        <p id="difficultyHeader" class="subtitle has-text-weight-bold has-text-centered has-text-link">Select a Difficulty<br><br></p>
                        <p id="collectionHeader" class="subtitle has-text-weight-bold has-text-centered has-text-link">Select a Collection to Play From<br><br></p>
                        
                            <button class="button is-link is-medium is-fullwidth" id="normalModeButton">Normal</button>
                            <!-- <div class="dialogue" id="normalDialogue">10 second maximum, unlimited guesses</div> -->
                                              
                        
                            <button class="button is-link is-medium is-fullwidth" id="challengeModeButton">Challenge</button>
                            <!-- <div class="dialogue" id="challengeDialogue">3 second maximum, one guess</div> -->
                                              
                        <button id="fetchLibraryButton" class="button is-link is-fullwidth">Play With Your Library</button>
                        <button id="fetchPlaylistsButton" class="button is-link is-fullwidth">Play With a Playlist</button>
                        <!-- <button id="backButton" class="button is-link">Back</button> -->
                    </div>
                </div>
            </div>
            <button id="backButton" class="button is-link">Back</button>

            <div id="page2" class="page">
                <div class="box-container">
                    <div class="box large-box">
                        <h2 class="subtitle has-text-link">Select a Playlist</h2>
                        <div class="field">
                            <div class="control">
                                <input type="text" id="searchInput" class="input" placeholder="Search Playlists...">
                            </div>
                        </div>
                        <div class="random-button-container">
                            <button id="randomPlaylistButton" class="button is-link">Random Playlist</button>
                        </div>
                        <div class="home-button-container">
                            <button id="homeButton2" class="button is-link">Home</button>
                        </div>
                    </div>
                </div>
            </div>

            <div id="page3" class="page">
                <div class="box-container">
                    <div class="box large-box">
                        <h2 class="subtitle has-text-link">Guess the song</h2>
                        <button id="playButton" class="button is-success is-fullwidth">Play</button>
                        <div class="field">
                            <div class="control">
                                <input type="text" id="guessInput" class="input" placeholder="Guess the song...">
                                <p id="loadingMsg" class="is-link">Loading your library, please wait...</p>
                            </div>
                        </div>
                        <div class="add-time-button-container">
                            <button id="addTime" class="button is-link">Add a second</button>
                            <p id="timeLabel" class="mt-4"></p>
                            <button id="giveUpButton" class="button is-link">Give up</button>
                            <button id="listenLaterButton" class="button is-link">Add to Listen Later</button>
                        </div>
                        <div class="home-button-container">
                            <button id="homeButton3" class="button is-link">Home</button>
                        </div>
                        <div class="stats-container">
                            <div id="stats">Score: </div>
                            <div id="msg"></div>
                        </div>
                    </div>
                </div>
            </div>

            <ul id="itemList" class="mt-4"></ul>
            <ul id="songList" class="mt-4"></ul>
            <ul id="statsList" class="mt-4"></ul>
            <ul id="songsWrong" class="mt-4"></ul>
        </div>
    </section>

    <script src="/js/index.js"></script>
    <script src="js/style.js"></script>
</body>
</html>
